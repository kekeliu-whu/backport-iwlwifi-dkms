From: You-Sheng Yang <vicamo.yang@canonical.com>
Date: Fri, 18 Jun 2021 16:10:15 +0800
Subject: backport: fix build on kernels with kcov disabled

Signed-off-by: You-Sheng Yang <vicamo.yang@canonical.com>
---
 backport-include/linux/kcov.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/backport-include/linux/kcov.h b/backport-include/linux/kcov.h
index d706e3b..5b9d9a8 100644
--- a/backport-include/linux/kcov.h
+++ b/backport-include/linux/kcov.h
@@ -1,7 +1,7 @@
 #ifndef __BACKPORT_LINUX_KCOV
 #define __BACKPORT_LINUX_KCOV
 
-#if LINUX_VERSION_IS_LESS(5,5,0)
+#if LINUX_VERSION_IS_LESS(5,5,0) || !defined(CONFIG_KCOV)
 #define kcov_remote_start_common(id) do {} while (0)
 #define kcov_remote_stop() do {} while (0)
 #else /* LINUX_VERSION_IS_LESS(5,5,0) */
